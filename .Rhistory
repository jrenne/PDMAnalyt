ylab=outputs4charts[which(yvariable==outputs)],las=1,
main = paste("(",letters[count_chart],")",sep=""))
for(i in seq(nrow(parameters))){
points(x[i],y[i],bg=col3[i],pch=pch3[i],col="dark grey",cex=2)
}
legend("bottomright",
names_legend_4_chi,
lty=rep(NaN,nb_chi), # gives the legend appropriate symbols (lines)
lwd=1, # line width
col=c("black"),
bg="white",
pch=seq(21,21+nb_chi-1),
seg.len = 2,
cex=1,
pt.cex = 2,
title=expression(paste("Coupon decay rate ",chi,sep="")))
}
}
dev.off()
FILE = paste("figures/Figure_ESSAI_PDM.pdf",sep="")
pdf(file=FILE, pointsize=10, width=7, height=6)
#plot
layout(t(matrix(c(1,2,3,4,5,6,7,7,7,7), 5, 2)),
widths=c(4,1,1,1,1), heights=c(4,4), respect=T)
count_chart <- 0
for(quadrant in 1:4){
if(quadrant == 2){
par(mar=c(4,0,3,5))
plot.new()
image(x=1, y=values_of_kappa_pi, z=t(as.matrix(values_of_kappa_pi)),
col=pal1(nb_kappa_pi), xaxt="n", yaxt="n", xlab="", ylab="")
box()
axis(4,las=1)
mtext(expression(paste("Inflation indexation ",kappa[pi],sep="")), side=4, line=3, cex=0.7)
image(x=1, y=values_of_kappa_y, z=t(as.matrix(values_of_kappa_y)),
col=pal2(nb_kappa_pi), xaxt="n", yaxt="n", xlab="", ylab="")
box()
axis(4,las=1)
mtext(expression(paste("Real GDP indexation ",kappa[y],sep="")), side=4, line=3, cex=0.7)
plot.new()
}else{
count_chart <- count_chart + 1
# Define x and y axes:
xvariable <- outputs4chart[count_chart,1]
yvariable <- outputs4chart[count_chart,2]
x <- M[,xvariable]
y <- M[,yvariable]
xlim <- c(min(x),1.1*max(x))
ylim <- c(min(y),max(y))
par(mar=c(4,5,3,2))
plot(0,0,xlim=xlim,ylim=ylim,
xlab=outputs4charts[which(xvariable==outputs)],
ylab=outputs4charts[which(yvariable==outputs)],las=1,
main = paste("(",letters[count_chart],")",sep=""))
for(i in seq(nrow(parameters))){
points(x[i],y[i],bg=col3[i],pch=pch3[i],col="dark grey",cex=2)
}
if(count_chart==1){
legend("topright",
names_legend_4_chi,
lty=rep(NaN,nb_chi), # gives the legend appropriate symbols (lines)
lwd=1, # line width
col=c("black"),
bg="white",
pch=seq(21,21+nb_chi-1),
seg.len = 2,
cex=1,
pt.cex = 2,
title=expression(paste("Coupon decay rate ",chi,sep="")))
}
}
}
dev.off()
FILE = paste("figures/Figure_ESSAI_PDM.pdf",sep="")
pdf(file=FILE, pointsize=10, width=7, height=7)
#plot
layout(t(matrix(c(1,2,3,4,5,6,7,7,7,7), 5, 2)),
widths=c(4,1,1,1,1), heights=c(4,4), respect=T)
count_chart <- 0
for(quadrant in 1:4){
if(quadrant == 2){
par(mar=c(4,0,3,5))
plot.new()
image(x=1, y=values_of_kappa_pi, z=t(as.matrix(values_of_kappa_pi)),
col=pal1(nb_kappa_pi), xaxt="n", yaxt="n", xlab="", ylab="")
box()
axis(4,las=1)
mtext(expression(paste("Inflation indexation ",kappa[pi],sep="")), side=4, line=3, cex=0.7)
image(x=1, y=values_of_kappa_y, z=t(as.matrix(values_of_kappa_y)),
col=pal2(nb_kappa_pi), xaxt="n", yaxt="n", xlab="", ylab="")
box()
axis(4,las=1)
mtext(expression(paste("Real GDP indexation ",kappa[y],sep="")), side=4, line=3, cex=0.7)
plot.new()
}else{
count_chart <- count_chart + 1
# Define x and y axes:
xvariable <- outputs4chart[count_chart,1]
yvariable <- outputs4chart[count_chart,2]
x <- M[,xvariable]
y <- M[,yvariable]
xlim <- c(min(x),1.1*max(x))
ylim <- c(min(y),max(y))
par(mar=c(4,5,3,2))
plot(0,0,xlim=xlim,ylim=ylim,
xlab=outputs4charts[which(xvariable==outputs)],
ylab=outputs4charts[which(yvariable==outputs)],las=1,
main = paste("(",letters[count_chart],")",sep=""))
for(i in seq(nrow(parameters))){
points(x[i],y[i],bg=col3[i],pch=pch3[i],col="dark grey",cex=2)
}
if(count_chart==1){
legend("topright",
names_legend_4_chi,
lty=rep(NaN,nb_chi), # gives the legend appropriate symbols (lines)
lwd=1, # line width
col=c("black"),
bg="white",
pch=seq(21,21+nb_chi-1),
seg.len = 2,
cex=1,
pt.cex = 2,
title=expression(paste("Coupon decay rate ",chi,sep="")))
}
}
}
dev.off()
?axis
FILE = paste("figures/Figure_ESSAI_PDM.pdf",sep="")
pdf(file=FILE, pointsize=10, width=6, height=6)
#plot
layout(t(matrix(c(1,2,3,4,5,6,7,7,7,7), 5, 2)),
widths=c(4,1,1,1,1), heights=c(4,4), respect=T)
count_chart <- 0
for(quadrant in 1:4){
if(quadrant == 2){
par(mar=c(4,0,3,5))
plot.new()
image(x=1, y=values_of_kappa_pi, z=t(as.matrix(values_of_kappa_pi)),
col=pal1(nb_kappa_pi), xaxt="n", yaxt="n", xlab="", ylab="")
box()
axis(4,las=1,at=values_of_kappa_pi)
mtext(expression(paste("Inflation indexation ",kappa[pi],sep="")), side=4, line=3, cex=0.7)
image(x=1, y=values_of_kappa_y, z=t(as.matrix(values_of_kappa_y)),
col=pal2(nb_kappa_pi), xaxt="n", yaxt="n", xlab="", ylab="")
box()
axis(4,las=1)
mtext(expression(paste("Real GDP indexation ",kappa[y],sep="")), side=4, line=3, cex=0.7)
plot.new()
}else{
count_chart <- count_chart + 1
# Define x and y axes:
xvariable <- outputs4chart[count_chart,1]
yvariable <- outputs4chart[count_chart,2]
x <- M[,xvariable]
y <- M[,yvariable]
xlim <- c(min(x),1.1*max(x))
ylim <- c(min(y),max(y))
par(mar=c(4,5,3,2))
plot(0,0,xlim=xlim,ylim=ylim,
xlab=outputs4charts[which(xvariable==outputs)],
ylab=outputs4charts[which(yvariable==outputs)],las=1,
main = paste("(",letters[count_chart],")",sep=""))
for(i in seq(nrow(parameters))){
points(x[i],y[i],bg=col3[i],pch=pch3[i],col="dark grey",cex=2)
}
if(count_chart==1){
legend("topright",
names_legend_4_chi,
lty=rep(NaN,nb_chi), # gives the legend appropriate symbols (lines)
lwd=1, # line width
col=c("black"),
bg="white",
pch=seq(21,21+nb_chi-1),
seg.len = 2,
cex=1,
pt.cex = 2,
title=expression(paste("Coupon decay rate ",chi,sep="")))
}
}
}
dev.off()
FILE = paste("figures/Figure_ESSAI_PDM.pdf",sep="")
pdf(file=FILE, pointsize=10, width=6, height=6)
#plot
layout(t(matrix(c(1,2,3,4,5,6,7,7,7,7), 5, 2)),
widths=c(4,1,1,1,1), heights=c(4,4), respect=T)
count_chart <- 0
for(quadrant in 1:4){
if(quadrant == 2){
par(mar=c(4,0,3,5))
plot.new()
image(x=1, y=values_of_kappa_pi, z=t(as.matrix(values_of_kappa_pi)),
col=pal1(nb_kappa_pi), xaxt="n", yaxt="n", xlab="", ylab="")
box()
axis(4,las=1,at=values_of_kappa_pi)
mtext(expression(paste("Inflation indexation ",kappa[pi],sep="")), side=4, line=3, cex=0.7)
image(x=1, y=values_of_kappa_y, z=t(as.matrix(values_of_kappa_y)),
col=pal2(nb_kappa_pi), xaxt="n", yaxt="n", xlab="", ylab="")
box()
axis(4,las=1,at=values_of_kappa_y)
mtext(expression(paste("Real GDP indexation ",kappa[y],sep="")), side=4, line=3, cex=0.7)
plot.new()
}else{
count_chart <- count_chart + 1
# Define x and y axes:
xvariable <- outputs4chart[count_chart,1]
yvariable <- outputs4chart[count_chart,2]
x <- M[,xvariable]
y <- M[,yvariable]
xlim <- c(min(x),1.1*max(x))
ylim <- c(min(y),max(y))
par(mar=c(4,5,3,2))
plot(0,0,xlim=xlim,ylim=ylim,
xlab=outputs4charts[which(xvariable==outputs)],
ylab=outputs4charts[which(yvariable==outputs)],las=1,
main = paste("(",letters[count_chart],")",sep=""))
for(i in seq(nrow(parameters))){
points(x[i],y[i],bg=col3[i],pch=pch3[i],col="dark grey",cex=2)
}
if(count_chart==1){
legend("topright",
names_legend_4_chi,
lty=rep(NaN,nb_chi), # gives the legend appropriate symbols (lines)
lwd=1, # line width
col=c("black"),
bg="white",
pch=seq(21,21+nb_chi-1),
seg.len = 2,
cex=1,
pt.cex = 2,
title=expression(paste("Coupon decay rate ",chi,sep="")))
}
}
}
dev.off()
outputs4chart
paste(outputs4chart[,2],sep="")
FILE = paste("figures/Figure_strategies_perf.pdf",sep="")
pdf(file=FILE, pointsize=10, width=6, height=6)
#plot
layout(t(matrix(c(1,2,3,4,5,6,7,7,7,7), 5, 2)),
widths=c(4,1,1,1,1), heights=c(4,4), respect=T)
count_chart <- 0
for(quadrant in 1:4){
if(quadrant == 2){
par(mar=c(4,0,3,5))
plot.new()
image(x=1, y=values_of_kappa_pi, z=t(as.matrix(values_of_kappa_pi)),
col=pal1(nb_kappa_pi), xaxt="n", yaxt="n", xlab="", ylab="")
box()
axis(4,las=1,at=values_of_kappa_pi)
mtext(expression(paste("Inflation indexation ",kappa[pi],sep="")), side=4, line=3, cex=0.7)
image(x=1, y=values_of_kappa_y, z=t(as.matrix(values_of_kappa_y)),
col=pal2(nb_kappa_pi), xaxt="n", yaxt="n", xlab="", ylab="")
box()
axis(4,las=1,at=values_of_kappa_y)
mtext(expression(paste("Real GDP indexation ",kappa[y],sep="")), side=4, line=3, cex=0.7)
plot.new()
}else{
count_chart <- count_chart + 1
# Define x and y axes:
xvariable <- outputs4chart[count_chart,1]
yvariable <- outputs4chart[count_chart,2]
x <- M[,xvariable]
y <- M[,yvariable]
xlim <- c(min(x),1.1*max(x))
ylim <- c(min(y),max(y))
par(mar=c(4,5,3,2))
plot(0,0,xlim=xlim,ylim=ylim,
xlab=outputs4charts[which(xvariable==outputs)],
ylab=outputs4charts[which(yvariable==outputs)],las=1,
main = paste("(",letters[count_chart],")",sep=""))
for(i in seq(nrow(parameters))){
points(x[i],y[i],bg=col3[i],pch=pch3[i],col="dark grey",cex=2)
}
if(count_chart==1){
legend("topright",
names_legend_4_chi,
lty=rep(NaN,nb_chi), # gives the legend appropriate symbols (lines)
lwd=1, # line width
col=c("black"),
bg="white",
pch=seq(21,21+nb_chi-1),
seg.len = 2,
cex=1,
pt.cex = 2,
title=expression(paste("Coupon decay rate ",chi,sep="")))
}
}
}
dev.off()
source("~/Dropbox/Research/PDMAnalyt/essai_simul_d_distri.R", echo=TRUE)
source("~/Dropbox/Research/PDMAnalyt/essai_simul_d_distri.R", echo=TRUE)
Model_Demand$kappa_pi <- 0
Model_Demand$kappa_y  <- 0
Model_Demand$alpha <- 0
#Model_Demand$nu_y <- -.001
Model_Demand_solved <- solve_ToyModel(Model_Demand,
grids,nb_iter,
nb_iter_sdf)
p <- compute_uncond_distri(Model_Demand_solved$indicators_x,
Model_Demand_solved$Probas,nb_iter = 2000)
res_bond_prices <- compute_bond_prices(Model_Demand_solved,maxH=10,nb_iter_sdf)
avg_yds <- t(p) %*% res_bond_prices$all_rth
source("~/Dropbox/Research/PDMAnalyt/make_figure_eventPricing.R", echo=TRUE)
value_4_nu_y
indic.download
source("estimation/load_data.R")
library(fredr)
library(Hmisc)
library(Rcpp)
library(RcppEigen)
library(optimx)
source("estimation/load_data.R")
source("estimation/load_data.R")
source("~/Dropbox/Research/PDMAnalyt/estimation/load_data.R", echo=TRUE)
source("~/Dropbox/Research/PDMAnalyt/main.R", echo=TRUE)
indic_estim
source("estimation/set_ini_model.R")
# Define targets:
Targets <- list(spread_in_bps = 20,
mean_d_in_percent = 80,
stdv_d_in_percent = 15)
Model$mu_eta
source("~/Dropbox/Research/PDMAnalyt/main.R", echo=TRUE)
source("~/Dropbox/Research/PDMAnalyt/main.R", echo=TRUE)
indic_use_last_res
source("estimation/set_ini_model.R")
Model
source("~/Dropbox/Research/PDMAnalyt/main.R", echo=TRUE)
source("~/Dropbox/Research/PDMAnalyt/estimation/run_estim.R", echo=TRUE)
res.estim$fevals
res.estim$value
source("outputs/make_chart_fit.R")
source("~/Dropbox/Research/PDMAnalyt/estimation/run_estim.R", echo=TRUE)
source("~/Dropbox/Research/PDMAnalyt/estimation/run_estim.R", echo=TRUE)
source("~/Dropbox/Research/PDMAnalyt/main.R", echo=TRUE)
source("~/Dropbox/Research/PDMAnalyt/main.R", echo=TRUE)
source("~/Dropbox/Research/PDMAnalyt/main.R", echo=TRUE)
source("~/Dropbox/Research/PDMAnalyt/main.R", echo=TRUE)
source("~/Dropbox/Research/PDMAnalyt/main.R", echo=TRUE)
source("~/Dropbox/Research/PDMAnalyt/main.R", echo=TRUE)
source("~/Dropbox/Research/PDMAnalyt/main.R", echo=TRUE)
source("~/Dropbox/Research/PDMAnalyt/main.R", echo=TRUE)
source("~/Dropbox/Research/PDMAnalyt/main.R", echo=TRUE)
indic_save_model
source("outputs/make_figures_fit.R")
source("~/Dropbox/Research/PDMAnalyt/outputs/make_figures_fit.R", echo=TRUE)
source("~/Dropbox/Research/PDMAnalyt/outputs/make_figures_fit.R", echo=TRUE)
source("~/Dropbox/Research/PDMAnalyt/outputs/make_figures_fit.R", echo=TRUE)
source("~/Dropbox/Research/PDMAnalyt/outputs/make_figures_fit.R", echo=TRUE)
source("~/Dropbox/Research/PDMAnalyt/outputs/make_figures_fit.R", echo=TRUE)
source("~/Dropbox/Research/PDMAnalyt/outputs/make_figures_fit.R", echo=TRUE)
source("~/Dropbox/Research/PDMAnalyt/outputs/make_figures_fit.R", echo=TRUE)
source("~/Dropbox/Research/PDMAnalyt/outputs/make_figures_fit.R", echo=TRUE)
source("~/Dropbox/Research/PDMAnalyt/outputs/make_figures_fit.R", echo=TRUE)
source("~/Dropbox/Research/PDMAnalyt/outputs/make_figures_fit.R", echo=TRUE)
source("~/Dropbox/Research/PDMAnalyt/outputs/make_figures_fit.R", echo=TRUE)
source("~/Dropbox/Research/PDMAnalyt/outputs/make_figures_fit.R", echo=TRUE)
source("~/Dropbox/Research/PDMAnalyt/outputs/make_figures_fit.R", echo=TRUE)
source("~/Dropbox/Research/PDMAnalyt/outputs/make_figures_fit.R", echo=TRUE)
source("~/Dropbox/Research/PDMAnalyt/outputs/make_figures_fit.R", echo=TRUE)
source("~/Dropbox/Research/PDMAnalyt/outputs/make_figures_fit.R", echo=TRUE)
source("~/Dropbox/Research/PDMAnalyt/outputs/make_figures_fit.R", echo=TRUE)
source("make_table_figure_DemSup.R")
source("outputs/make_table_figure_DemSup.R")
source("~/Dropbox/Research/PDMAnalyt/outputs/make_table_figure_DemSup.R", echo=TRUE)
source("~/Dropbox/Research/PDMAnalyt/main.R", echo=TRUE)
source("~/Dropbox/Research/PDMAnalyt/main.R", echo=TRUE)
source("outputs/make_table_moments.R")
targets
source("estimation/resize_and_compute_targets.R")
start_year <- 1970
source("estimation/resize_and_compute_targets.R")
load(file="Data/data.Rda")
DATA$date
source("~/Dropbox/Research/PDMAnalyt/main.R", echo=TRUE)
source("~/Dropbox/Research/PDMAnalyt/main.R", echo=TRUE)
source("~/Dropbox/Research/PDMAnalyt/main.R", echo=TRUE)
source("~/Dropbox/Research/PDMAnalyt/main.R", echo=TRUE)
source("~/Dropbox/Research/PDMAnalyt/main.R", echo=TRUE)
source("~/Dropbox/Research/PDMAnalyt/procedures/proc_model.R", echo=TRUE)
# Prepare colors:
nb_kappa_pi <- length(values_of_kappa_pi)
nb_kappa_y  <- length(values_of_kappa_y)
nb_chi      <- length(values_of_chi)
pal1 <- colorRampPalette(c("white", rgb(1,0,0)), space = "rgb")
col1 <- val2col(values_of_kappa_pi, col=pal1(nb_kappa_pi))
pal2 <- colorRampPalette(c("white", rgb(0,0,1)), space = "rgb")
col2 <- val2col(values_of_kappa_y, col=pal2(nb_kappa_y))
col3 <- NA*seq(nrow(parameters))
pch3 <- NA*seq(nrow(parameters))
for(i in seq(nrow(parameters))){
xpos <- which(parameters[i,"kappa_pi"]==values_of_kappa_pi)
ypos <- which(parameters[i,"kappa_y"]==values_of_kappa_y)
coltmp <- (col2rgb(col1[xpos])/2) + (col2rgb(col2[ypos])/2)
col3[i] <- rgb(coltmp[1], coltmp[2], coltmp[3], maxColorValue = 255)
pch3[i] <- 20 + which(parameters[i,"chi"]==values_of_chi)
}
names_legend_4_chi <- NULL
for(i in 1:nb_chi){
names_legend_4_chi <- c(names_legend_4_chi,as.character(values_of_chi[i]))
}
FILE = paste("figures/Figure_strategies_perf.pdf",sep="")
pdf(file=FILE, pointsize=10, width=6, height=6)
#plot
layout(t(matrix(c(1,2,3,4,5,6,7,7,7,7), 5, 2)),
widths=c(4,1,1,1,1), heights=c(4,4), respect=T)
count_chart <- 0
for(quadrant in 1:4){
if(quadrant == 2){
par(mar=c(4,0,3,5))
plot.new()
image(x=1, y=values_of_kappa_pi, z=t(as.matrix(values_of_kappa_pi)),
col=pal1(nb_kappa_pi), xaxt="n", yaxt="n", xlab="", ylab="")
box()
axis(4,las=1,at=values_of_kappa_pi)
mtext(expression(paste("Inflation indexation ",kappa[pi],sep="")), side=4, line=3, cex=0.7)
image(x=1, y=values_of_kappa_y, z=t(as.matrix(values_of_kappa_y)),
col=pal2(nb_kappa_pi), xaxt="n", yaxt="n", xlab="", ylab="")
box()
axis(4,las=1,at=values_of_kappa_y)
mtext(expression(paste("Real GDP indexation ",kappa[y],sep="")), side=4, line=3, cex=0.7)
plot.new()
}else{
count_chart <- count_chart + 1
# Define x and y axes:
xvariable <- outputs4chart[count_chart,1]
yvariable <- outputs4chart[count_chart,2]
x <- M[,xvariable]
y <- M[,yvariable]
xlim <- c(min(x),1.1*max(x))
ylim <- c(min(y),max(y))
par(mar=c(4,5,3,2))
plot(0,0,xlim=xlim,ylim=ylim,
xlab=outputs4charts[which(xvariable==outputs)],
ylab=outputs4charts[which(yvariable==outputs)],las=1,
main = paste("(",letters[count_chart],")",sep=""))
for(i in seq(nrow(parameters))){
points(x[i],y[i],bg=col3[i],pch=pch3[i],col="dark grey",cex=2)
}
if(count_chart==1){
legend("topright",
names_legend_4_chi,
lty=rep(NaN,nb_chi), # gives the legend appropriate symbols (lines)
lwd=1, # line width
col=c("black"),
bg="white",
pch=seq(21,21+nb_chi-1),
seg.len = 2,
cex=1,
pt.cex = 2,
title=expression(paste("Coupon decay rate ",chi,sep="")))
}
}
}
dev.off()
FILE = paste("figures/Figure_strategies_perf.pdf",sep="")
pdf(file=FILE, pointsize=10, width=6, height=6)
#plot
layout(t(matrix(c(1,2,3,4,5,6,7,7,7,7), 5, 2)),
widths=c(4,1,1,1,1), heights=c(4,4), respect=T)
count_chart <- 0
for(quadrant in 1:4){
if(quadrant == 2){
par(mar=c(4,0,3,5))
plot.new()
image(x=1, y=values_of_kappa_pi, z=t(as.matrix(values_of_kappa_pi)),
col=pal1(nb_kappa_pi), xaxt="n", yaxt="n", xlab="", ylab="")
box()
axis(4,las=1,at=values_of_kappa_pi)
mtext(expression(paste("Inflation indexation ",kappa[pi],sep="")), side=4, line=3, cex=0.7)
image(x=1, y=values_of_kappa_y, z=t(as.matrix(values_of_kappa_y)),
col=pal2(nb_kappa_pi), xaxt="n", yaxt="n", xlab="", ylab="")
box()
axis(4,las=1,at=values_of_kappa_y)
mtext(expression(paste("Real GDP indexation ",kappa[y],sep="")), side=4, line=3, cex=0.7)
plot.new()
}else{
count_chart <- count_chart + 1
# Define x and y axes:
xvariable <- outputs4chart[count_chart,1]
yvariable <- outputs4chart[count_chart,2]
x <- M[,xvariable]
y <- M[,yvariable]
xlim <- c(min(x),1*max(x))
ylim <- c(min(y),max(y))
par(mar=c(4,5,3,2))
plot(0,0,xlim=xlim,ylim=ylim,
xlab=outputs4charts[which(xvariable==outputs)],
ylab=outputs4charts[which(yvariable==outputs)],las=1,
main = paste("(",letters[count_chart],")",sep=""))
for(i in seq(nrow(parameters))){
points(x[i],y[i],bg=col3[i],pch=pch3[i],col="dark grey",cex=2)
}
if(count_chart==1){
legend("topright",
names_legend_4_chi,
lty=rep(NaN,nb_chi), # gives the legend appropriate symbols (lines)
lwd=1, # line width
col=c("black"),
bg="white",
pch=seq(21,21+nb_chi-1),
seg.len = 2,
cex=1,
pt.cex = 2,
title=expression(paste("Coupon decay rate ",chi,sep="")))
}
}
}
dev.off()
